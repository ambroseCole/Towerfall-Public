[gd_scene load_steps=20 format=3 uid="uid://c37dyl5tpi05a"]

[ext_resource type="TileSet" uid="uid://2sceq72j5tpf" path="res://tileset.tres" id="3_rc4sm"]
[ext_resource type="FontFile" uid="uid://bpid28mjg4jgt" path="res://Resources/themes/C&C Red Alert [INET].ttf" id="4_7v2g5"]
[ext_resource type="Script" path="res://Scripts/Characters & Enemeies/enemyController.gd" id="4_ig4ac"]
[ext_resource type="Texture2D" uid="uid://db0gs8myj11q4" path="res://Resources/slime-Sheet[1]-Sheet.png" id="5_hinmb"]
[ext_resource type="PackedScene" uid="uid://hmcexyvxsytu" path="res://Scenes/door.tscn" id="5_jdy5o"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ou622"]
size = Vector2(121.033, 97.3972)

[sub_resource type="AtlasTexture" id="AtlasTexture_88ner"]
atlas = ExtResource("5_hinmb")
region = Rect2(160, 0, 32, 27)

[sub_resource type="AtlasTexture" id="AtlasTexture_57xoc"]
atlas = ExtResource("5_hinmb")
region = Rect2(192, 0, 32, 27)

[sub_resource type="AtlasTexture" id="AtlasTexture_x6n4p"]
atlas = ExtResource("5_hinmb")
region = Rect2(224, 0, 32, 27)

[sub_resource type="AtlasTexture" id="AtlasTexture_ia5f7"]
atlas = ExtResource("5_hinmb")
region = Rect2(256, 0, 32, 27)

[sub_resource type="AtlasTexture" id="AtlasTexture_i2v8d"]
atlas = ExtResource("5_hinmb")
region = Rect2(288, 0, 32, 27)

[sub_resource type="AtlasTexture" id="AtlasTexture_h3meg"]
atlas = ExtResource("5_hinmb")
region = Rect2(0, 0, 32, 27)

[sub_resource type="AtlasTexture" id="AtlasTexture_uik28"]
atlas = ExtResource("5_hinmb")
region = Rect2(32, 0, 32, 27)

[sub_resource type="AtlasTexture" id="AtlasTexture_iag6j"]
atlas = ExtResource("5_hinmb")
region = Rect2(64, 0, 32, 27)

[sub_resource type="AtlasTexture" id="AtlasTexture_cai3g"]
atlas = ExtResource("5_hinmb")
region = Rect2(96, 0, 32, 27)

[sub_resource type="AtlasTexture" id="AtlasTexture_poim2"]
atlas = ExtResource("5_hinmb")
region = Rect2(128, 0, 32, 27)

[sub_resource type="SpriteFrames" id="SpriteFrames_si6go"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_88ner")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_57xoc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x6n4p")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ia5f7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i2v8d")
}],
"loop": true,
"name": &"attack",
"speed": 4.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_h3meg")
}],
"loop": true,
"name": &"default",
"speed": 4.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_uik28")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_iag6j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cai3g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_poim2")
}],
"loop": true,
"name": &"move",
"speed": 4.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_tkcwn"]
size = Vector2(218.13, 187.503)

[sub_resource type="GDScript" id="GDScript_ihm5c"]
script/source = "extends Area2D

var active = false
@onready var room = self.get_parent()
@onready var player = get_node(\"/root/Node2D/CharacterBody2D\")
@export var type = \"north\"
var node = preload(\"res://Scenes/main_game.tscn\")
# Called when the node enters the scene tree for the first time.

func _on_body_entered(body):
	if (body == player):
		get_tree().paused = true
		var _dialog = Dialogic.start('timeline')
		await Dialogic.timeline_ended
		if player.chosenGod != \"\":

			var nodeInstance = node.instantiate()
			nodeInstance.floor = 1
			get_parent().get_parent().add_child(nodeInstance)
		
			get_parent().queue_free()
		get_tree().paused = false
"

[node name="Room" type="Node2D"]
position = Vector2(0, -1)

[node name="wall2" type="StaticBody2D" parent="."]
position = Vector2(2, -4)

[node name="Polygon2D" type="Polygon2D" parent="wall2"]
visible = false
position = Vector2(-64, 0)
scale = Vector2(2.09524, 2)
polygon = PackedVector2Array(0, -32, 0, 32, 672, 32, 672, -32, 32.6011, -32)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="wall2"]
polygon = PackedVector2Array(-64, -64, -64, 64, 1344, 64, 1344, -64)

[node name="wall3" type="StaticBody2D" parent="."]

[node name="Polygon2D" type="Polygon2D" parent="wall3"]
visible = false
position = Vector2(1280, 1344)
rotation = -1.5708
scale = Vector2(2.09524, 2)
polygon = PackedVector2Array(0, -32, 0, 32, 672, 32, 672, -32, 32.6011, -32)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="wall3"]
polygon = PackedVector2Array(1216, -64, 1344, -64, 1344, 1344, 1216, 1344)

[node name="wall4" type="StaticBody2D" parent="."]

[node name="Polygon2D" type="Polygon2D" parent="wall4"]
visible = false
position = Vector2(-64, 1280)
scale = Vector2(2.09524, 2)
polygon = PackedVector2Array(0, -32, 0, 32, 672, 32, 672, -32, 32.6011, -32)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="wall4"]
polygon = PackedVector2Array(-64, 1216, -64, 1344, 1344, 1344, 1344, 1216)

[node name="wall5" type="StaticBody2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="wall5"]
position = Vector2(-0.200005, 0)
scale = Vector2(0.998047, 1)
polygon = PackedVector2Array(-64, -64, 64, -64, 64, 1344, -64, 1344)

[node name="Polygon2D2" type="Polygon2D" parent="wall5"]
visible = false
position = Vector2(0, 1344)
rotation = -1.5708
scale = Vector2(2.09524, 2)
polygon = PackedVector2Array(0, -32, 0, 32, 672, 32, 672, -32, 32.6011, -32)

[node name="TileMap" type="TileMap" parent="."]
texture_filter = 1
position = Vector2(65, 43)
scale = Vector2(6, 6)
tile_set = ExtResource("3_rc4sm")
format = 2
layer_0/tile_data = PackedInt32Array(-65527, 1572864, 12, 589833, 327680, 28, 655359, 1245184, 6, 589824, 262144, 28, 589825, 393216, 29, 589826, 327680, 28, 589827, 393216, 28, 589828, 327680, 28, 589829, 393216, 28, 589830, 327680, 28, 589831, 393216, 28, 589832, 327680, 28, -65536, 1507328, 12, -65535, 1572864, 12, -65534, 1507328, 12, -65533, 1572864, 12, -65532, 1507328, 12, -65531, 1572864, 12, -65530, 1507328, 12, -65529, 1507328, 12, -65528, 1507328, 12, 9, 327680, 27, 65545, 327680, 29, 131081, 327680, 28, 196617, 327680, 29, 262153, 327680, 28, 327689, 327680, 29, 393225, 327680, 28, 458761, 327680, 28, 524297, 327680, 28, 393215, 1310720, 16, 458751, 1310720, 15, 524287, 1310720, 15, 589823, 1310720, 16, 65537, 327680, 28, 131073, 327680, 29, 65538, 393216, 28, 131074, 393216, 29, 65539, 327680, 28, 131075, 327680, 29, 65540, 393216, 28, 131076, 393216, 29, 65541, 327680, 28, 131077, 327680, 29, 65542, 327680, 28, 131078, 327680, 29, 196613, 327680, 28, 262149, 327680, 29, 196614, 327680, 29, 262150, 327680, 28, 196611, 327680, 28, 262147, 327680, 29, 196612, 393216, 28, 262148, 393216, 29, 196609, 327680, 28, 262145, 327680, 29, 196610, 393216, 28, 262146, 393216, 29, 327681, 327680, 28, 393217, 327680, 28, 327682, 393216, 28, 393218, 327680, 28, 327683, 327680, 28, 393219, 393216, 28, 327684, 393216, 28, 393220, 393216, 29, 327685, 327680, 28, 393221, 327680, 29, 327686, 327680, 29, 393222, 327680, 29, 327687, 327680, 29, 393223, 327680, 28, 262151, 327680, 28, 131079, 327680, 28, 196615, 327680, 29, 65543, 327680, 29, 458754, 327680, 29, 458755, 393216, 29, 458753, 327680, 29, 458756, 393216, 28, 458757, 393216, 28, 458758, 393216, 28, 458759, 327680, 29, 1, 327680, 27, 2, 393216, 27, 3, 327680, 27, 4, 393216, 27, 5, 327680, 27, 6, 327680, 27, 7, 327680, 27, 8, 393216, 27, 65544, 393216, 29, 131080, 393216, 28, 196616, 393216, 29, 262152, 393216, 28, 327688, 393216, 29, 393224, 393216, 28, 458760, 393216, 29, 524296, 327680, 28, 524289, 393216, 28, 524290, 327680, 28, 524291, 393216, 28, 524292, 327680, 28, 524293, 393216, 28, 524294, 327680, 28, 524295, 393216, 28, 524288, 262144, 28, 393216, 262144, 28, 458752, 262144, 29, 262144, 262144, 29, 327680, 262144, 29, 196608, 262144, 28, 65536, 262144, 28, 131072, 262144, 29, 0, 262144, 27, -1, 1441792, 12, 65535, 1310720, 15, 131071, 1310720, 16, 196607, 1310720, 15, 262143, 1310720, 16, 327679, 1310720, 15, 10, 393216, 27, 11, 458752, 27, 65546, 393216, 29, 131082, 393216, 28, 196618, 393216, 29, 262154, 393216, 28, 327690, 393216, 29, 393226, 393216, 28, 458762, 393216, 28, 524298, 393216, 28, 589834, 393216, 28, 655370, 393216, 28, 12, 1966080, 8, 720895, 1245184, 7, 786431, 1245184, 6, 851967, 1245184, 10, 786432, 1310720, 10, 786433, 1376256, 10, 786434, 1441792, 10, 786435, 1507328, 10, 786436, 1310720, 10, 786437, 1376256, 10, 786438, 1441792, 10, 786439, 1507328, 10, 786440, 1310720, 10, 786441, 1376256, 10, 786442, 1441792, 10, 786443, 1507328, 10, 786444, 1966080, 10, 589836, 1966080, 7, 655372, 1966080, 8, 720908, 1966080, 9, 393228, 1966080, 7, 458764, 1966080, 8, 524300, 1966080, 9, 196620, 1966080, 9, 262156, 1966080, 8, 327692, 1966080, 9, 65548, 1966080, 7, 131084, 1966080, 8, -65524, 1638400, 12, -65526, 1507328, 12, -65525, 1572864, 12, 655360, 262144, 29, 655361, 393216, 29, 655362, 327680, 29, 655363, 393216, 29, 655364, 327680, 29, 655365, 393216, 29, 655366, 327680, 29, 655367, 327680, 28, 655368, 393216, 28, 655369, 327680, 28, 720896, 262144, 30, 720907, 458752, 30, 720897, 327680, 30, 720898, 393216, 30, 720899, 327680, 30, 720900, 393216, 30, 720901, 327680, 30, 720902, 393216, 30, 720903, 327680, 30, 720904, 393216, 30, 720905, 327680, 30, 720906, 393216, 30, 65547, 458752, 28, 131083, 458752, 29, 196619, 458752, 28, 262155, 458752, 29, 327691, 458752, 28, 393227, 458752, 29, 458763, 458752, 28, 524299, 458752, 29, 589835, 458752, 28, 655371, 458752, 29)

[node name="EnemyOne" type="CharacterBody2D" parent="." groups=["enemies"]]
position = Vector2(994, 1059)
script = ExtResource("4_ig4ac")
speed = 0
health = 1000000000

[node name="CollisionShape2D" type="CollisionShape2D" parent="EnemyOne"]
position = Vector2(19.313, -14.0505)
scale = Vector2(1.04496, 0.944586)
shape = SubResource("RectangleShape2D_ou622")

[node name="Timer" type="Timer" parent="EnemyOne"]
wait_time = 1.557

[node name="Timer2" type="Timer" parent="EnemyOne"]

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="EnemyOne"]
texture_filter = 1
position = Vector2(11.313, -19.0506)
scale = Vector2(5, 5)
sprite_frames = SubResource("SpriteFrames_si6go")
animation = &"attack"
autoplay = "default"
speed_scale = 2.08165e-12

[node name="Area2D" type="Area2D" parent="EnemyOne"]

[node name="CollisionShape2D2" type="CollisionShape2D" parent="EnemyOne/Area2D"]
position = Vector2(21.2207, -2.69983)
scale = Vector2(1.09194, 0.892243)
shape = SubResource("RectangleShape2D_tkcwn")
disabled = true

[node name="RichTextLabel" type="RichTextLabel" parent="."]
offset_left = 728.0
offset_top = 847.0
offset_right = 1402.0
offset_bottom = 987.0
scale = Vector2(0.763768, 0.750448)
theme_override_colors/default_color = Color(0, 0, 0, 1)
theme_override_fonts/normal_font = ExtResource("4_7v2g5")
theme_override_font_sizes/normal_font_size = 60
text = "X to attack - Z & C & V for abilities when obtained"

[node name="RichTextLabel2" type="RichTextLabel" parent="."]
offset_left = 153.0
offset_top = 49.0
offset_right = 827.0
offset_bottom = 189.0
scale = Vector2(0.763768, 0.750448)
theme_override_colors/default_color = Color(0, 0, 0, 1)
theme_override_fonts/normal_font = ExtResource("4_7v2g5")
theme_override_font_sizes/normal_font_size = 80
text = "Enter to begin ->"

[node name="RichTextLabel3" type="RichTextLabel" parent="."]
offset_left = 95.0
offset_top = 714.0
offset_right = 769.0
offset_bottom = 883.0
scale = Vector2(0.763768, 0.750448)
theme_override_colors/default_color = Color(0, 0, 0, 1)
theme_override_fonts/normal_font = ExtResource("4_7v2g5")
theme_override_font_sizes/normal_font_size = 80
text = "Press arrow keys to move"

[node name="Door" parent="." instance=ExtResource("5_jdy5o")]
position = Vector2(647, 66)
script = SubResource("GDScript_ihm5c")
